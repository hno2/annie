{% from '_macros.html' import grade,task_card %}
{% extends "_base.html" %}
{%block custom_style%}
{{ dropzone.load_css() }}
<style>
    .dropzone {
        border: 2px dashed #1266f1;
        min-height: 200px;
    }
</style>
{%endblock custom_style%}

{% block content %}
<main class="container">
    <section class="my-5" id="welcome">
        <div class="row p-4 pb-0 pe-lg-0 pt-lg-5 align-items-center rounded-3 border shadow-lg">
            <div class="col-lg-7 p-3 p-lg-5 pt-lg-3">
                <h1 class="display-4 fw-bold lh-1">Hey {{session["name"]}}!</h1>
                <p class="lead">Welcome to the your Code Assessment. You can start working on your assigments now or see
                    the
                    feedback.</p>
                <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4 mb-lg-3">
                    <button type="button" class="btn btn-primary btn-lg px-4 me-md-2 fw-bold">Start Now</button>
                    <button type="button" class="btn btn-outline-secondary btn-lg px-4">Go Back</button>
                </div>
            </div>
            <div class="col-lg-4 offset-lg-1 p-0 overflow-hidden shadow-lg">
                <img class="rounded-lg-3" src="{{ url_for('static', filename='img/now.jpg') }}" alt="" width="720">
            </div>
        </div>
    </section>
    <section id="assignments" style="background:#fbfbfb !important;">
        {%for assignment in assignments %}
        {{task_card(assignment.title,"Description here",assignment.github)}}
        {%endfor%}

    </section>
    <section id="submissions">

        <h4>Your latest submissions and results</h4>
        <div class="list-group">
            {%for sub in submissions %}
            <div class="list-group-item list-group-item-action">
                <div class="d-flex w-100 justify-content-between">
                    <h5 class="mb-1">{{sub.assignment.title}}</h5>
                </div>
                <p class="mb-1">
                </p>
                <small>{{sub.created|timeago}}</small>
            </div>
            {%endfor%}
        </div>
    </section>
</main>
{%endblock content%}

{% block custom_js %}
{{ dropzone.load_js() }}
{{ dropzone.config(custom_options="success: function(file, response){console.log(response);}") }}
{%endblock%}